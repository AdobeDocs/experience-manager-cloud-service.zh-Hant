---
title: 階層式中繼資料
description: 本文說明如何定義資產的階層式中繼資料。
contentOwner: AG
translation-type: tm+mt
source-git-commit: 991d4900862c92684ed92c1afc081f3e2d76c7ff

---


# 階層式中繼資料 {#cascading-metadata}

在擷取資產的中繼資料資訊時，使用者會在各種可用欄位中提供資訊。 您可以顯示特定的中繼資料欄位或欄位值，這些欄位值取決於在其他欄位中選取的選項。 這種元資料的條件顯示稱為級聯元資料。 換言之，您可以在特定中繼資料欄位／值與一或多個欄位及／或其值之間建立相依關係。

使用中繼資料結構來定義顯示階層式中繼資料的規則。 例如，如果中繼資料結構包含資產類型欄位，您可以根據使用者選擇的資產類型定義要顯示的相關欄位集。

以下是您可定義階層式中繼資料的一些使用案例：

* 在需要使用者位置的地方，根據使用者的國家／地區和州選擇顯示相關城市名稱。
* 根據使用者對產品類別的選擇，將相關品牌名稱載入清單中。
* 根據在另一個欄位中指定的值，切換特定欄位的可見性。 例如，如果用戶希望以不同的地址交付發運，則顯示單獨的發運地址欄位。
* 根據在另一個欄位中指定的值，指定欄位為必填欄位。
* 根據在另一個欄位中指定的值，變更特定欄位顯示的選項。
* 根據其他欄位中指定的值，在特定欄位中設定預設中繼資料值。

## 在AEM中設定階層式中繼資料 {#configure-cascading-metadata-in-aem}

請考慮您要根據選取的資產類型顯示階層式中繼資料的藍本。 部分範例

* 對於視訊，請顯示適用欄位，例如格式、轉碼器、持續時間等。
* 對於Word或PDF檔案，顯示欄位，例如頁數、作者等。

不論選擇的資產類型為何，請將版權資訊顯示為必填欄位。

1. 點選／按一下AEM標誌，然後前往「工 **[!UICONTROL 具]** >資 **[!UICONTROL 產]** >中繼 **[!UICONTROL 資料結構]**」。
1. 在「方 **[!UICONTROL 案表單]** 」頁中，選擇方案表單，然後從工具欄點選／單 **[!UICONTROL 擊「編輯]** 」以編輯方案。

   ![select_form](assets/select_form.png)

1. （可選）在中繼資料結構編輯器中，建立新欄位以條件化。 在「設定」索引標籤中指定名稱 **[!UICONTROL 和屬]** 性路徑。

   若要建立新的標籤，請點選／按 `+` 一下以新增標籤，然後新增中繼資料欄位。

   ![add_tab](assets/add_tab.png)

1. 新增資產類型的下拉式欄位。 在「設定」索引標籤中指定名稱 **[!UICONTROL 和屬]** 性路徑。 新增可選說明。

   ![asset_type_field](assets/asset_type_field.png)

1. 鍵值配對是提供給表單使用者的選項。 您可以手動或從JSON檔案提供金鑰值配對。

   * 若要手動指定值，請選取「手動 **[!UICONTROL 新增]**」，點選／按一下「 **[!UICONTROL 新增選擇]** 」並指定選項文字和值。 例如，指定「視訊」、「PDF」、「Word」和「影像」資產類型。

   * 若要動態擷取JSON檔案中的值，請選取「 **[!UICONTROL 透過JSON路徑新增]** 」並提供JSON檔案的路徑。 AEM會在表單顯示給使用者時即時擷取鍵值配對。
   這兩種選項互斥。 您無法從JSON檔案匯入選項並手動編輯。

   ![add_choice](assets/add_choice.png)

   >[!NOTE]
   >
   >當您新增JSON檔案時，索引鍵值配對不會顯示在中繼資料結構描述編輯器中，但可在發佈的表單中使用。

   >[!NOTE]
   >
   >添加選項時，如果按一下彈出欄位，則介面會扭曲，選項的刪除表徵圖將停止工作。 儲存變更前，請勿按一下下拉式清單。 如果您遇到此問題，請儲存結構並再次開啟結構以繼續編輯。

1. （可選）新增其他必填欄位。 例如，資產類型視訊的格式、codec和持續時間。

   同樣地，為其他資產類型新增相依欄位。 例如，新增欄位頁數和檔案資產的作者，例如PDF和Word檔案。

   ![video_dependent_fields](assets/video_dependent_fields.png)

1. 要在資產類型欄位和其他欄位之間建立相關性，請選擇相關欄位並開啟「規 **[!UICONTROL 則]** 」頁籤。

   ![select_dependentfield](assets/select_dependentfield.png)

1. 在「需 **[!UICONTROL 求]**」下，選擇「 **[!UICONTROL 必要」，根據新規則選項]** 。
1. 點選／按一 **[!UICONTROL 下「新增規則]** 」，然後選擇「 **** 資產類型」欄位以建立相依性。 也選擇要在其上建立相關性的欄位值。 在這種情況下，請選擇「 **[!UICONTROL 視訊」]**。 點選／按一 **[!UICONTROL 下「完成]** 」以儲存變更。

   ![define_rule](assets/define_rule.png)

   >[!NOTE]
   >
   >含有手動預先定義值的下拉式清單可與規則搭配使用。 具有已設定JSON路徑的下拉式選單無法與使用預先定義值來套用條件的規則搭配使用。 如果值是在執行時期從JSON載入，則無法套用預先定義的規則。

1. 在「可 **[!UICONTROL 見性]**」下，選擇「可 **[!UICONTROL 見」，根據新規則選項]** 。

1. 點選／按一 **[!UICONTROL 下「新增規則]** 」，然後選擇「 **** 資產類型」欄位以建立相依性。 也選擇要在其上建立相關性的欄位值。 在這種情況下，請選擇「 **[!UICONTROL 視訊」]**。 點選／按一 **[!UICONTROL 下「完成]** 」以儲存變更。

   ![define_visibilityrule](assets/define_visibilityrule.png)

   >[!CAUTION]
   >
   >若要重設值，請按一下或點選空格或介面上除值以外的任何位置。 如果值已重設，請再次選擇值。

   >[!NOTE]
   >
   >您可以套用 **[!UICONTROL 「需求]** 」條件 **[!UICONTROL 和「可見性]** 」條件，它們彼此獨立。

1. 同樣地，在「資產類型」欄位中的「視訊」值與其他欄位（例如「轉碼器」和「持續時間」）之間建立相依關係。
1. 在「資產類型」欄位和「頁數」和「作者」欄位中，重複這些步驟以建立檔案資產(PDF和Word [!UICONTROL )之間的相依性]。
1. 按一下&#x200B;**[!UICONTROL 「儲存」]**。將中繼資料結構套用至資料夾。

1. 導覽至您套用中繼資料結構的資料夾，並開啟資產的屬性頁面。 根據您在「資產類型」欄位中的選擇，會顯示相關的階層式中繼資料欄位。

   ![視訊資產的階層式中繼資料](assets/video_asset.png)
   *圖：視訊資產的階層式中繼資料*

   ![檔案資產的階層式中繼資料](assets/doc_type_fields.png)
   *圖：檔案資產的階層式中繼資料*
